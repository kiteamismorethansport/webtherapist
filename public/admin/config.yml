backend:
  name: git-gateway
  branch: master

media_folder: "public/images"
public_folder: "/images"
local_backend: true

i18n:
  structure: multiple_files
  locales: [en, ru, ukr]
  default_locale: ru

collections:
  # =========================
  #  Site Settings (per locale)
  # =========================
  - name: settings
    label: Site Settings
    i18n: true
    folder: content/settings
    create: false
    extension: json
    format: json
    slug: siteSettings
    fields:
      - { label: Practice Name, name: practiceName, widget: string, i18n: true }
      - { label: Practice Title, name: practiceTitle, widget: string, i18n: true }

      - label: Logo
        name: logo
        widget: object
        i18n: true
        fields:
          - { label: URL, name: url, widget: image, required: false }
          - { label: Alt, name: alt, widget: string, required: false }

      - label: Contact
        name: contact
        widget: object
        i18n: true
        fields:
          - { label: Email, name: email, widget: string }
          - { label: Phone, name: phone, widget: string }

      - label: Navigation
        name: nav
        widget: object
        i18n: true
        fields:
          - { label: Work With Me, name: workWithMe, widget: string, i18n: true }
          - { label: Services, name: services, widget: string, i18n: true }
          - { label: Blog, name: blog, widget: string, i18n: true }
          - { label: Contact, name: contact, widget: string, i18n: true }
          - { label: CTA, name: cta, widget: string, i18n: true }

  # =========================
  #  Pages (work-with-me, services, blog, contact...)
  # =========================
  - name: pages
    label: Pages
    i18n: true
    folder: content/pages
    create: true
    extension: mdx
    format: frontmatter

    # use our own slug field for filenames
    slug: "{{fields.slug}}"
    path: "{{fields.slug}}.{{locale}}"

    fields:
      - label: Slug
        name: slug
        widget: string
        i18n: duplicate        # same slug for all languages
        hint: "Latin-only slug, e.g. work-with-me"

      - label: Title
        name: title
        widget: string
        i18n: true

      - label: Hero
        name: hero
        widget: object
        fields:
          - { label: Heading, name: heading, widget: string, i18n: true }
          - { label: Sub, name: sub, widget: text, required: false, i18n: true }

      - label: Body
        name: body
        widget: markdown
        i18n: true

      - label: SEO
        name: seo
        widget: object
        collapsed: true
        i18n: true
        fields:
          - { label: Title, name: title, widget: string, required: false, i18n: true }
          - { label: Description, name: description, widget: text, required: false, i18n: true }
          - { label: Canonical, name: canonical, widget: string, required: false }
          - { label: Noindex, name: noindex, widget: boolean, required: false }


  # =========================
  #  Blog Posts (with custom slug field)
  # =========================
  - name: posts
    label: Blog Posts
    i18n: true
    folder: content/posts
    create: true
    extension: mdx
    format: frontmatter

    # Use frontmatter slug for file naming
    slug: "{{fields.slug}}"
    path: "{{fields.slug}}.{{locale}}"

    fields:
      - label: Slug (Latin-only, required)
        name: slug
        widget: string
        i18n: duplicate
        required: true
        pattern:
          - "^[a-z0-9-]+$"
          - "Only lowercase Latin letters, numbers, hyphens allowed."
        hint: "Used in URL, e.g. my-new-post"

      - label: Title
        name: title
        widget: string
        i18n: true
        required: false
        hint: "You may write title in any language."

      - label: Date
        name: date
        widget: datetime
        i18n: duplicate
        required: false

      - label: Hero Image
        name: image
        widget: image
        required: false
        i18n: duplicate

      - label: Body
        name: body
        widget: markdown
        i18n: true

      - label: SEO
        name: seo
        widget: object
        collapsed: true
        i18n: true
        fields:
          - label: Title
            name: title
            widget: string
            required: false
            i18n: true
          - label: Description
            name: description
            widget: text
            required: false
            i18n: true

